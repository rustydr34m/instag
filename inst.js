class Config{constructor(e=null){this.content_row_class,this.followers_btn,this.modal_header,this.close_button,this.user_image,this.user_name,this.row_item,this.time_out}mapData(e){if(null!=e)for(var t in e)this[t]=e[t]}}class User{constructor(e,t){this.name=e.split("<")[0],this.image=t}toRow(){var e=document.createElement("tr"),t=document.createElement("img"),o=document.createElement("a"),s=document.createTextNode("@"+this.name);return t.src=this.image,t.style.cssText="width:32px;height:32px;",o.setAttribute("href",`https://www.instagram.com/${this.name}`),o.setAttribute("target","_blank"),o.appendChild(document.createTextNode("Profile Git")),e.appendChild(this.toCol(t)),e.appendChild(this.toCol(s)),e.appendChild(this.toCol(o)),e}toCol(e){var t=document.createElement("td");return t.appendChild(e),t}}class Sniffer{constructor(e){this.config=e,this.curr_cursor=0,this.last_currsor_change=this.now(),this.users=[],this.is_done=!1,this.on_process=!1}log(e="",t="red",o="yellow",s="18"){console.log(`%c ${e} `,`background: ${t}; color: ${o}; font-size:${s}px`)}openModal(e,t){this.on_process=!0,this.last_currsor_change=this.now(),Array.from(document.getElementsByClassName(e)).forEach((e=>{e.href.endsWith(t)&&e.click()})),this.check()}closeModal(){document.querySelector(`.${this.config.modal_header} .${this.config.close_button}`).click()}updateCursor(e){e!=this.curr_cursor&&(this.curr_cursor=e,this.last_currsor_change=this.now())}isExpire(){return this.now()-this.last_currsor_change>this.config.time_out}check(){var e=this;setTimeout((function(){e.fetch()}),200)}fetch(){try{if(this.scrollDown(),!this.isExpire())return void this.check();this.saveUsers()}catch(e){}}diff(e){return this.users.filter((t=>{if(null==e.find((e=>e.name===t.name)))return t}))}saveUsers(){Array.from(document.querySelectorAll(`.${this.config.content_row_class} .${this.config.row_item}`)).forEach((e=>{this.users.push(new User(e.getElementsByClassName(this.config.user_name)[0].innerHTML,e.getElementsByClassName(this.config.user_image)[0].currentSrc))})),this.closeModal(),this.is_done=!0}scrollDown(){try{var e=document.getElementsByClassName(this.config.content_row_class)[0];e.scrollTo(0,e.scrollHeight),this.updateCursor(e.scrollHeight)}catch(e){}}now(){return Math.floor(Date.now()/1e3)}}class Followers extends Sniffer{constructor(e){super(e)}open(){this.on_process||(this.log(" 1 - Takipçilerini bulmaya çalışıyoruz... "),this.openModal(this.config.followers_btn,"followers/"))}}class Followings extends Sniffer{constructor(e){super(e)}open(){this.on_process||(this.log(" 2 - Senin takip ettiklerini bulmaya çalışıyoruz... "),this.openModal(this.config.followers_btn,"following/"))}}class Dedector{constructor(e){this.config=e,this.followers=new Followers(e),this.followings=new Followings(e),this.banner(),this.check()}banner(){this.log(" TAŞKIRAN - INSTAGRAM TAKIP ARACI BAŞARIYLA YÜKLENDİ ","#222","#bada55","18"),this.log(" Hiçbirşeye dokunmayın herşeyi otomatik halledeceğiz. ","#222","#bada55","18"),this.log(" İşlem biraz zaman alabilir sabredin. ","#222","#bada55","18")}log(e="",t="red",o="yellow",s="18"){console.log(`%c ${e} `,`background: ${t}; color: ${o}; font-size:${s}px`)}check(){var e=this;setTimeout((function(){e.fetch()}),500)}fetch(){return this.followers.is_done?this.followings.is_done?void this.compile():(this.followings.open(),void this.check()):(this.followers.open(),void this.check())}compile(){var e=document.createElement("div");e.style.cssText="width: 550px;border: 1px solid;",e.appendChild(this.createTable("Seni Takip Etmeyenler",this.followings.diff(this.followers.users),"#ff5454")),e.appendChild(this.createTable("Takip Etmediklerin",this.followers.diff(this.followings.users),"#ffac56")),document.head.innerHTML="",document.body.innerHTML="",document.body.appendChild(e),this.log(" İŞLEM BİTTİ KANKA :) ","#222","#bada55","18")}toCol(e){var t=document.createElement("td");return t.appendChild(e),t}createTable(e,t,o){var s=document.createElement("div"),i=document.createElement("div"),r=document.createElement("table"),n=document.createElement("tr");return n.appendChild(this.toCol(document.createTextNode("#"))),n.appendChild(this.toCol(document.createTextNode("Name"))),n.appendChild(this.toCol(document.createTextNode("Profile"))),r.appendChild(n),i.appendChild(document.createTextNode(e)),i.style.cssText=`background: ${o};font-size: 20px;`,s.appendChild(i),t.forEach((e=>{r.appendChild(e.toRow())})),s.appendChild(r),s}}new Dedector({content_row_class:"_aano",row_item:"_aba8",followers_btn:"_a6hd",modal_header:"_ac76",close_button:"_abl-",user_image:"x6umtig",user_name:"_ab8y",time_out:1});
